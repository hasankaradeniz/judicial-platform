{% extends "core/base.html" %}
{% load static %}

{% block page_title %}{{ title }} - Akademik Makale{% endblock %}

{% block extra_styles %}
<style>
  :root {
    --primary-blue: #1e3a8a;
    --accent-gold: #f59e0b;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --gray-900: #111827;
  }
  
  body {
    background: white;
    font-family: 'Times New Roman', serif;
    line-height: 1.6;
    color: var(--gray-900);
  }
  
  .academic-paper {
    max-width: 800px;
    margin: 0 auto;
    padding: 40px;
    background: white;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    min-height: 100vh;
  }
  
  .paper-header {
    text-align: center;
    margin-bottom: 40px;
    border-bottom: 2px solid var(--primary-blue);
    padding-bottom: 30px;
  }
  
  .paper-title {
    font-size: 2rem;
    font-weight: bold;
    color: var(--gray-900);
    margin-bottom: 20px;
    line-height: 1.3;
  }
  
  .paper-authors {
    font-size: 1.1rem;
    font-style: italic;
    color: var(--gray-700);
    margin-bottom: 10px;
  }
  
  .paper-affiliation {
    font-size: 0.95rem;
    color: var(--gray-600);
    margin-bottom: 10px;
  }
  
  .paper-meta {
    font-size: 0.9rem;
    color: var(--gray-600);
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
  }
  
  .meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
  }
  
  .section-title {
    font-size: 1.3rem;
    font-weight: bold;
    color: var(--primary-blue);
    margin-top: 30px;
    margin-bottom: 15px;
    border-bottom: 1px solid var(--gray-200);
    padding-bottom: 5px;
  }
  
  .abstract-section {
    background: var(--gray-50);
    padding: 25px;
    border-radius: 8px;
    margin: 30px 0;
    border-left: 4px solid var(--primary-blue);
  }
  
  .abstract-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--gray-800);
    margin-bottom: 15px;
  }
  
  .abstract-text {
    text-align: justify;
    color: var(--gray-700);
    line-height: 1.7;
  }
  
  .keywords-section {
    margin: 20px 0;
    padding: 15px;
    background: #f8fafc;
    border-radius: 6px;
  }
  
  .keywords-title {
    font-weight: bold;
    color: var(--gray-800);
    margin-bottom: 8px;
  }
  
  .keywords-list {
    color: var(--gray-700);
    font-style: italic;
  }
  
  .content-section {
    margin: 30px 0;
  }
  
  .content-text {
    text-align: justify;
    line-height: 1.7;
    color: var(--gray-700);
    text-indent: 30px;
  }
  
  .references-section {
    margin-top: 40px;
    border-top: 2px solid var(--gray-200);
    padding-top: 30px;
  }
  
  .reference-item {
    margin-bottom: 12px;
    padding-left: 20px;
    text-indent: -20px;
    color: var(--gray-700);
    font-size: 0.95rem;
    line-height: 1.5;
  }
  
  .legal-field-badge {
    display: inline-block;
    background: var(--primary-blue);
    color: white;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    margin-bottom: 15px;
  }
  
  .page-number {
    text-align: center;
    margin-top: 40px;
    color: var(--gray-600);
    font-size: 0.9rem;
  }
  
  .toolbar {
    position: fixed;
    top: 20px;
    right: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    padding: 10px;
    display: flex;
    gap: 10px;
    z-index: 1000;
  }
  
  .toolbar-btn {
    background: var(--primary-blue);
    color: white;
    border: none;
    border-radius: 6px;
    padding: 8px 12px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 5px;
  }
  
  .toolbar-btn:hover {
    background: #1e40af;
    color: white;
    text-decoration: none;
  }
  
  @media (max-width: 768px) {
    .academic-paper {
      padding: 20px;
      margin: 10px;
    }
    
    .paper-title {
      font-size: 1.5rem;
    }
    
    .paper-meta {
      flex-direction: column;
      gap: 10px;
    }
    
    .toolbar {
      position: relative;
      top: auto;
      right: auto;
      margin-bottom: 20px;
      justify-content: center;
    }
  }
  
  @media print {
    .toolbar {
      display: none;
    }
    
    .academic-paper {
      box-shadow: none;
      margin: 0;
      padding: 20px;
    }
    
    body {
      font-size: 12pt;
    }
  }
</style>
{% endblock %}

{% block content %}
<!-- Toolbar -->
<div class="toolbar">
  <button class="toolbar-btn" onclick="window.print()">
    <i class="fas fa-print"></i>
    Yazdır
  </button>
  <button class="toolbar-btn" onclick="window.history.back()">
    <i class="fas fa-arrow-left"></i>
    Geri
  </button>
  <a href="{% url 'article_search_results' %}?q={{ title|slice:':10' }}" class="toolbar-btn">
    <i class="fas fa-search"></i>
    Arama
  </a>
</div>

<!-- Academic Paper Content -->
<div class="academic-paper">
  <!-- Header -->
  <div class="paper-header">
    <div class="legal-field-badge">{{ legal_field }}</div>
    <h1 class="paper-title">{{ title }}</h1>
    <div class="paper-authors">{{ authors }}</div>
    <div class="paper-affiliation">{{ affiliation }}</div>
    <div class="paper-meta">
      <div class="meta-item">
        <i class="fas fa-book text-primary"></i>
        <span>{{ journal }}</span>
      </div>
      <div class="meta-item">
        <i class="fas fa-calendar text-primary"></i>
        <span>{{ year }}</span>
      </div>
      <div class="meta-item">
        <i class="fas fa-file-alt text-primary"></i>
        <span>Araştırma Makalesi</span>
      </div>
    </div>
  </div>
  
  <!-- Abstract -->
  <div class="abstract-section">
    <div class="abstract-title">ÖZET</div>
    <div class="abstract-text">{{ abstract }}</div>
  </div>
  
  <!-- Keywords -->
  <div class="keywords-section">
    <div class="keywords-title">Anahtar Kelimeler:</div>
    <div class="keywords-list">{{ keywords }}</div>
  </div>
  
  <!-- 1. Introduction -->
  <div class="content-section">
    <h2 class="section-title">1. GİRİŞ</h2>
    <p class="content-text">{{ introduction }}</p>
  </div>
  
  <!-- 2. Methodology -->
  <div class="content-section">
    <h2 class="section-title">2. YÖNTEM</h2>
    <p class="content-text">{{ methodology }}</p>
  </div>
  
  <!-- 3. Findings -->
  <div class="content-section">
    <h2 class="section-title">3. BULGULAR VE DEĞERLENDİRME</h2>
    <p class="content-text">{{ findings }}</p>
  </div>
  
  <!-- 4. Legal Analysis -->
  <div class="content-section">
    <h2 class="section-title">4. HUKUKİ ANALİZ</h2>
    <p class="content-text">
      {{ legal_field }} kapsamında yapılan bu inceleme, mevcut yasal düzenlemelerin etkinliğini sorgulamaktadır. 
      Türk hukuk sisteminin bu alandaki yaklaşımı, hem ulusal hem de uluslararası perspektifler açısından değerlendirilmiştir. 
      Özellikle son yıllarda yaşanan hukuki gelişmeler, konunun önemini daha da artırmıştır.
    </p>
    <p class="content-text">
      Yargı kararları incelendiğinde, {{ legal_field.lower }} alanında farklı yaklaşımların benimsendiği görülmektedir. 
      Bu durum, hukuki güvenlik ve öngörülebilirlik açısından sorunlar yaratmakta, 
      akademik literatürde de bu konuda görüş birliğinin sağlanamadığını göstermektedir.
    </p>
  </div>
  
  <!-- 5. Conclusion -->
  <div class="content-section">
    <h2 class="section-title">5. SONUÇ VE ÖNERİLER</h2>
    <p class="content-text">{{ conclusion }}</p>
    <p class="content-text">
      Bu çalışmanın sonuçları doğrultusunda, {{ legal_field.lower }} alanında yapılacak düzenlemelerin 
      şu noktalara odaklanması önerilmektedir: Birincisi, mevzuat boşluklarının giderilmesi ve 
      mevcut düzenlemelerin güncellenmesi; ikincisi, yargı kararlarında tutarlılığın sağlanması; 
      üçüncüsü, uluslararası standartlara uyumun artırılması.
    </p>
  </div>
  
  <!-- References -->
  <div class="references-section">
    <h2 class="section-title">KAYNAKÇA</h2>
    {% for reference in references %}
      <div class="reference-item">{{ forloop.counter }}. {{ reference }}</div>
    {% endfor %}
  </div>
  
  <!-- Page Number -->
  <div class="page-number">
    - {{ title|slice:':20' }}... | {{ year }} -
  </div>
</div>

<script>
// Print optimization
window.addEventListener('beforeprint', function() {
  document.title = '{{ title|slice:":50" }}...pdf';
});

// Auto-focus for better user experience
document.addEventListener('DOMContentLoaded', function() {
  // Smooth scroll to top
  window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script>
{% endblock %}